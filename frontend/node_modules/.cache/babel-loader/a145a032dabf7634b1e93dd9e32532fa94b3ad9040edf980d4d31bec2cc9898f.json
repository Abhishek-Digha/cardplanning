{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhis\\\\Downloads\\\\story-pointing-app\\\\frontend\\\\src\\\\components\\\\StoryManager.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useSession } from '../contexts/SessionContext';\nimport { sessionAPI } from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function StoryManager() {\n  _s();\n  const {\n    session,\n    user,\n    stories,\n    activeStory,\n    dispatch\n  } = useSession();\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState('');\n  const [desc, setDesc] = useState('');\n  const handle = async e => {\n    e.preventDefault();\n    if (!title) return;\n    await sessionAPI.createStory(session.id, title, desc, user.id);\n    // Fetch updated session to get new stories\n    const updatedSession = await sessionAPI.getSession(session.id);\n    dispatch({\n      type: 'SET',\n      payload: {\n        stories: updatedSession.stories\n      }\n    });\n    setTitle('');\n    setDesc('');\n    setOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"story-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Stories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this), user.isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setOpen(!open),\n      children: \"+ Add Story\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this), open && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handle,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Title\",\n        value: title,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Description\",\n        value: desc,\n        onChange: e => setDesc(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), stories.map(s => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `story-item ${(activeStory === null || activeStory === void 0 ? void 0 : activeStory.id) === s.id ? 'active' : ''}`,\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: s.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), s.description && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: s.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 29\n      }, this), (activeStory === null || activeStory === void 0 ? void 0 : activeStory.id) === s.id && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Active\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 38\n      }, this)]\n    }, s.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n}\n_s(StoryManager, \"qKp1mYmMnInznoFaHhul5t2Dfm8=\", false, function () {\n  return [useSession];\n});\n_c = StoryManager;\nvar _c;\n$RefreshReg$(_c, \"StoryManager\");","map":{"version":3,"names":["React","useState","useSession","sessionAPI","jsxDEV","_jsxDEV","StoryManager","_s","session","user","stories","activeStory","dispatch","open","setOpen","title","setTitle","desc","setDesc","handle","e","preventDefault","createStory","id","updatedSession","getSession","type","payload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","isAdmin","onClick","onSubmit","placeholder","value","onChange","target","map","s","description","_c","$RefreshReg$"],"sources":["C:/Users/abhis/Downloads/story-pointing-app/frontend/src/components/StoryManager.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useSession } from '../contexts/SessionContext';\r\nimport { sessionAPI } from '../utils/api';\r\n\r\nexport default function StoryManager(){\r\n  const {session,user,stories,activeStory,dispatch} = useSession();\r\n  const [open,setOpen]=useState(false);\r\n  const [title,setTitle]=useState('');\r\n  const [desc,setDesc]=useState('');\r\n\r\n  const handle = async e=>{\r\n    e.preventDefault();\r\n    if(!title) return;\r\n    await sessionAPI.createStory(session.id,title,desc,user.id);\r\n    // Fetch updated session to get new stories\r\n    const updatedSession = await sessionAPI.getSession(session.id);\r\n    dispatch({type:'SET',payload:{stories: updatedSession.stories}});\r\n    setTitle('');setDesc('');setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"story-manager\">\r\n      <h3>Stories</h3>\r\n      {user.isAdmin && (\r\n        <button onClick={()=>setOpen(!open)}>+ Add Story</button>\r\n      )}\r\n      {open && (\r\n        <form onSubmit={handle}>\r\n          <input \r\n            placeholder=\"Title\"\r\n            value={title}\r\n            onChange={e=>setTitle(e.target.value)}\r\n          />\r\n          <textarea\r\n            placeholder=\"Description\"\r\n            value={desc}\r\n            onChange={e=>setDesc(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Create</button>\r\n        </form>\r\n      )}\r\n      {stories.map(s=>(\r\n        <div \r\n          key={s.id} \r\n          className={`story-item ${activeStory?.id===s.id?'active':''}`}\r\n        >\r\n          <h4>{s.title}</h4>\r\n          {s.description && <p>{s.description}</p>}\r\n          {activeStory?.id===s.id && <span>Active</span>}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}